{% extends 'base.html' %}

{% block breadcrumb %}
<ul class="breadcrumb">
    <li><a href="/"><i class="fas fa-home"></i></a></li>
    <li>Configuração</li>
    <li>Projetos</li>
    <li>Cadastrar Projeto</li>
</ul>
{% endblock %}

{% block title %}Cadastro de Projeto{% endblock %}

{% block content %}
<div class="content">
    <div class="top-bar">
        <h2>Cadastro de Projeto</h2>
    </div>
    <div class="form-card">
        <h3 class="section-form-title">Informações do projeto</h3>

        <form id="formProjeto" method="POST" action="{{ url_for('projeto_bp.cadastrar_projeto') }}" class="form-grid">

            <!-- Campos do Projeto -->
            <div class="form-group">
                <label for="codigo_projeto">Código Projeto <span class="required">*</span></label>
                <input type="text" id="codigoProjeto" name="codigo_projeto" required>
            </div>

            <div class="form-group">
                <label for="nome_projeto">Nome Projeto <span class="required">*</span></label>
                <input type="text" id="nome_projeto" name="nome_projeto" required>
            </div>

            <div class="form-group">
                <label for="vertical">Vertical <span class="required">*</span></label>
                <input type="text" id="vertical" name="vertical" required>
            </div>

            <!-- Backlog -->
            <div class="form-group" style="grid-column: 1 / -1;">
                <label for="backlogInput">Backlog</label>
                <input type="text" id="backlogInput" placeholder="Digite e pressione Enter">
                <ul id="backlogLista" class="tag-list"></ul>
            </div>

            <!-- Seguimento -->
            <div class="form-group" style="grid-column: 1 / -1;">
                <label for="jornadaInput">Seguimento (Jornada)</label>
                <input type="text" id="jornadaInput" placeholder="Digite e pressione Enter">
                <ul id="jornadaLista" class="tag-list"></ul>
            </div>

            <!-- Mensagem de erro dinâmica via JS -->
            <div id="mensagemProjeto" class="alert d-none" style="grid-column: 1 / -1;"></div>

            <!-- Botão Limpar com estilo consistente e alinhado à direita -->
            <div class="form-actions text-end" style="grid-column: 1 / -1;">
                <button type="reset" class="btn btn-secondary" id="btn-limpar">
                    <i class="fas fa-eraser"></i> Limpar
                </button>
            </div>

            <!-- Botões principais -->
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" id="btn-cancelar">
                    <i class="fas fa-times"></i> Cancelar
                </button>
                <button type="submit" class="btn btn-primary">
                    Cadastrar Projeto
                </button>
            </div>
        </form>
    </div>
</div>

<script>
    const urlProjetos = "{{ url_for('projeto_bp.projeto') }}";
</script>

<!-- Validações e ações lista aplicada a Seguimento e Backlog -->
<script src="{{ url_for('static', filename='js/admin/validar_projeto.js') }}"></script>
{% endblock %}