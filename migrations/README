# üìÅ Pasta `migrations/`

Esta pasta cont√©m os arquivos de controle de migra√ß√µes do banco de dados gerenciados pelo **Flask-Migrate**, que utiliza o **Alembic** como mecanismo de versionamento.

---

## üìå Prop√≥sito

A pasta `migrations/` armazena o hist√≥rico das altera√ß√µes no schema do banco de dados da aplica√ß√£o Flask. Isso inclui:

- Scripts de migra√ß√£o gerados com `flask db migrate`
- Vers√µes aplic√°veis com `flask db upgrade`
- Arquivos de configura√ß√£o do Alembic

---

## ‚úÖ Por que versionar esta pasta?

A `migrations/` **deve ser versionada no Git** para garantir que:

- Todos os desenvolvedores compartilhem o mesmo hist√≥rico de altera√ß√µes no banco
- Ambientes como staging e produ√ß√£o possam aplicar as mesmas migra√ß√µes
- Pipelines de CI/CD possam executar `flask db upgrade` com seguran√ßa

---

## üß∞ Inicializa√ß√£o do sistema de migra√ß√µes (executar apenas uma vez)

Se esta for a **primeira vez** que voc√™ est√° configurando as migra√ß√µes no projeto (ou se a pasta `migrations/` ainda n√£o existir), execute:

    ```bash
        flask db init
    ```
---

## üß™ Uso em desenvolvimento

1. Crie uma nova migra√ß√£o:
   ```bash
   flask db migrate -m "Descri√ß√£o da mudan√ßa"
  ```

2. Versione a pasta migrations/:
```bash
    git add migrations/
    git commit -m "Atualiza migra√ß√µes"
 ```
 
---

## üöÄ Uso em produ√ß√£o

1. Certifique-se de que a pasta `migrations/` est√° presente no reposit√≥rio (j√° versionada).
2. Configure corretamente o arquivo `.env.production` com as vari√°veis:
   - `FLASK_ENV=production`
   - `DATABASE_URL=postgresql://usuario:senha@host:porta/banco`
   - `SECRET_KEY=uma-chave-segura`
   - `AUTO_MIGRATE=false`
3. No ambiente de produ√ß√£o, aplique as migra√ß√µes com:
   ```bash
   flask db upgrade
   ```
---

## üõ†Ô∏è Observa√ß√µes t√©cnicas
1. Este projeto utiliza PostgreSQL como banco de dados. Verifique se a vari√°vel DATABASE_URL est√° corretamente configurada no .env.production.
2. A aplica√ß√£o requer uma vari√°vel SECRET_KEY definida no ambiente para seguran√ßa de sess√µes e autentica√ß√£o. Essa chave n√£o deve ser compartilhada ou exposta.
3. O uso de AUTO_MIGRATE=true √© recomendado apenas em desenvolvimento. Em produ√ß√£o, mantenha AUTO_MIGRATE=false para evitar execu√ß√µes autom√°ticas indesejadas.

---

